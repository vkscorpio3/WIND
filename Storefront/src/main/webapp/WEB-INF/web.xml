<?xml version="1.0" encoding="UTF-8"?>

<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
	version="2.5">
	<display-name>WIND eCommerce</display-name>
	<description>WIND eCommerce Store Application</description>

	<!-- This is the name/value of the "parent web application", i.e. the name 
		of a web application, which has a SessionNameContextServlet defined in it 
		that will define the session scope for this web application. This definition 
		is commented out here in the "main" web application, but you could copy this 
		init param setting into a child web application which wanted to share the 
		same session scope with this servlet. --> 
	<context-param> <param-name>atg.session.parentContextName</param-name> 
		<param-value>/dyn</param-value>		
	</context-param>
	
	<!-- If context-root is set here, then ServletContextWebAppRegistry will 
		use this setting as the context-root for this WebApp. This must match the 
		context-root setting in application.xml. -->

	<context-param>
		<param-name>context-root</param-name>
		<param-value>wind</param-value>
	</context-param>

	<context-param>
		<param-name>atg.filter.PageFilterDebug</param-name>
		<param-value>false</param-value>
	</context-param>

	<context-param>
		<param-name>atg.assembler</param-name>
		<param-value>true</param-value>
	</context-param>

	<filter>
		<filter-name>PageFilter</filter-name>
		<filter-class>atg.filter.dspjsp.PageFilter</filter-class>
	</filter>

	<filter-mapping>
		<filter-name>PageFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>		 
		<dispatcher>ERROR</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<!-- FOR SEO COMPLIANCE -->
	<servlet>
		<servlet-name>MappedJumpServlet</servlet-name>
		<servlet-class>atg.repository.seo.MappedJumpServlet</servlet-class>
		<init-param>
			<param-name>loggingDebug</param-name>
			<param-value>true</param-value>
		</init-param>
		<init-param>
			<param-name>jumpServlet</param-name>
			<param-value>
			  ctx:dynamo:/atg/dynamo/servlet/dafpipeline/JumpServlet
			</param-value>
		</init-param>
	</servlet>

	<!-- Configure the Nucleus Servlet. This servlet definition is required 
		in each web application that uses dynamo functionality. When mapped, it exposes 
		the nucleus component browser, but should not be mapped to any paths on a 
		live site. -->
	<servlet>
		<servlet-name>NucleusServlet</servlet-name>
		<servlet-class>atg.nucleus.servlet.NucleusServlet</servlet-class>
		<load-on-startup>1</load-on-startup>
	</servlet>

	<filter>
		<filter-name>ForwardFilter</filter-name>
		<filter-class>atg.servlet.ForwardFilter</filter-class>
	</filter>

	<filter-mapping>
		<filter-name>ForwardFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>FORWARD</dispatcher>
		<!-- 
			<dispatcher>ERROR</dispatcher>
		-->
	</filter-mapping>

	<filter>
		<filter-name>ErrorFilter</filter-name>
		<filter-class>atg.servlet.ErrorFilter</filter-class>
	</filter>

	<filter-mapping>
		<filter-name>ErrorFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>ERROR</dispatcher>
	</filter-mapping>

	<!-- This servlet exposes the admin server of dynamo as a servlet in your 
		application server. It is not necessary, but useful to access the nucleus 
		component browser, dynamo's configuration manager, and performance monitor -->
	<servlet>
		<servlet-name>AdminProxyServlet</servlet-name>
		<servlet-class>atg.nucleus.servlet.NucleusProxyServlet</servlet-class>
		<init-param>
			<param-name>proxyServletPath</param-name>
			<param-value>/atg/dynamo/servlet/adminpipeline/AdminHandler</param-value>
		</init-param>
		<load-on-startup>2</load-on-startup>
	</servlet>

	<!-- This servlet exposes the dynamo servlet pipeline. It is necessary if 
		you want to support serving JHTML pages on your site. The context path and 
		servlet path used by this servlet are prepended onto all URLs for JHTML pages 
		on your site. 
		
		<servlet>
			<servlet-name>DynamoProxyServlet</servlet-name>
			<servlet-class>atg.nucleus.servlet.NucleusProxyServlet</servlet-class>
			<load-on-startup>2</load-on-startup>
		</servlet> 
	-->

	<!-- This servlet must be defined in each web application which is designated 
		as a "main" web application (i.e. its context name is the value of another 
		web application's atg.session.parentContextName parameter). Typically this 
		is the dyn.ear web app.
		
		<servlet>
			<servlet-name>SessionNameContextServlet</servlet-name>
			<servlet-class>atg.nucleus.servlet.SessionNameContextServlet</servlet-class>
		</servlet>
	-->

	<!-- This servlet handles special init-session requests issued by the ACC 
		and the template email system. -->
	<servlet>
		<servlet-name>InitSessionServlet</servlet-name>
		<servlet-class>atg.nucleus.servlet.InitSessionServlet</servlet-class>
	</servlet>

	<!-- You can enable this for diagnostic purposes in case you have trouble 
		starting up other services, you can go directly to nucleus. It will allow 
		you to directly access the component browser. There is no authentication 
		on this though so do not enable it for a live site. 
		
		<servlet-mapping>
			<servlet-name>NucleusServlet</servlet-name> 
			<url-pattern>/nucleus/*</url-pattern>
		</servlet-mapping> 
	-->

	<!-- FOR SEO COMPLIANCE -->
	<servlet-mapping>
		<servlet-name>MappedJumpServlet</servlet-name>
		<url-pattern>/jump/*</url-pattern>
	</servlet-mapping>

	<!-- Exposes dynamo's admin server -->
	<servlet-mapping>
		<servlet-name>AdminProxyServlet</servlet-name>
		<url-pattern>/admin/*</url-pattern>
	</servlet-mapping>

	<!-- Exposes dynamo's pipleine for serving DSP pages 
		<servlet-mapping>
			<servlet-name>DynamoProxyServlet</servlet-name>
			<url-pattern>/dyn/*</url-pattern>
		</servlet-mapping>
	-->

	<servlet-mapping>
		<servlet-name>InitSessionServlet</servlet-name>
		<url-pattern>/init-session</url-pattern>
	</servlet-mapping>

	<!-- Dynamo ELResolver event listener allowing JSTL expressions to refer 
		to Nucleus component and dynamic bean properties (including repository item 
		properties) -->
	<listener>
		<listener-class>atg.taglib.dspjsp.RegisterELResolverServletContextListener</listener-class>
	</listener>

	<!-- Spring ContextLoaderListener -->
	<listener>
		<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
	</listener>

	<!-- The Spring application configuration file location -->
	<context-param>
		<param-name>contextConfigLocation</param-name>
		<param-value>/WEB-INF/spring-context.xml</param-value>
	</context-param>


	<welcome-file-list>
		<welcome-file>index.jsp</welcome-file>
	</welcome-file-list>

	<jsp-config>
		<jsp-property-group>
			<url-pattern>*.jsp</url-pattern>
			<page-encoding>UTF-8</page-encoding>
			<scripting-invalid>true</scripting-invalid>
			<include-prelude>/includes/prelude.jspf</include-prelude>
		</jsp-property-group>
	</jsp-config>

</web-app>
<!-- @version $Id: //product/Eclipse/version/10.1.1/plugins/atg.project/templates/web.xml#1 
	$$Change: 693425 $ -->